{"version":3,"sources":["../../source/library/log-parameter.js"],"names":["Is","Stream","LogDestination","LogParameter","getConstructorParameter","log","parameter","_destination","createDestination","_option","length","Writable","string"],"mappings":"AAAA,SAASA,EAAT,QAAmB,6BAAnB;AACA,OAAOC,MAAP,MAAmB,QAAnB;;AAEA,SAASC,cAAT,QAA+B,sBAA/B;;AAEA,MAAMC,YAAN,CAAmB;;AAEjB,SAAOC,uBAAP,CAA+BC,GAA/B,EAAoC,GAAGC,SAAvC,EAAkD;;AAEhD;AACA,QAAIC,YAAY,GAAGF,GAAG,CAACG,iBAAJ,EAAnB;AACA,QAAIC,OAAO,GAAG,EAAd;;AAEA,YAAQH,SAAS,CAACI,MAAlB;AACE,WAAK,CAAL;AACE;AACA;AACA;AACF,WAAK,CAAL;;AAEE,gBAAQ,IAAR;AACE,eAAKJ,SAAS,CAAC,CAAD,CAAT,YAAwBJ,cAA7B;AACA,eAAKI,SAAS,CAAC,CAAD,CAAT,YAAwBL,MAAM,CAACU,QAApC;AACEJ,YAAAA,YAAY,GAAGD,SAAS,CAAC,CAAD,CAAxB;AACA;AACA;AACF,eAAKN,EAAE,CAACY,MAAH,CAAUN,SAAS,CAAC,CAAD,CAAnB,CAAL;AACEC,YAAAA,YAAY,GAAGF,GAAG,CAACG,iBAAJ,CAAsBF,SAAS,CAAC,CAAD,CAA/B,CAAf;AACA;AACA;AACF;AACE;AACAG,YAAAA,OAAO,GAAGH,SAAS,CAAC,CAAD,CAAnB,CAZJ;;;AAeA;AACF;;AAEE,gBAAQ,IAAR;AACE,eAAKA,SAAS,CAAC,CAAD,CAAT,YAAwBJ,cAA7B;AACA,eAAKI,SAAS,CAAC,CAAD,CAAT,YAAwBL,MAAM,CAACU,QAApC;AACEJ,YAAAA,YAAY,GAAGD,SAAS,CAAC,CAAD,CAAxB;AACAG,YAAAA,OAAO,GAAGH,SAAS,CAAC,CAAD,CAAnB;AACA;AACF,eAAKN,EAAE,CAACY,MAAH,CAAUN,SAAS,CAAC,CAAD,CAAnB,CAAL;AACEC,YAAAA,YAAY,GAAGF,GAAG,CAACG,iBAAJ,CAAsBF,SAAS,CAAC,CAAD,CAA/B,CAAf;AACAG,YAAAA,OAAO,GAAGH,SAAS,CAAC,CAAD,CAAnB;AACA;AACF;AACEC,YAAAA,YAAY,GAAGD,SAAS,CAAC,CAAD,CAAxB;AACAG,YAAAA,OAAO,GAAGH,SAAS,CAAC,CAAD,CAAnB,CAZJ,CAzBJ;;;;;AA0CA,WAAO,CAAEC,YAAF,EAAgBE,OAAhB,CAAP;;AAED,GApDgB;;;;AAwDnB,SAASN,YAAT","sourcesContent":["import { Is } from '@virtualpatterns/mablung-is'\nimport Stream from 'stream'\n\nimport { LogDestination } from './log-destination.js'\n\nclass LogParameter {\n\n  static getConstructorParameter(log, ...parameter) {\n\n    // the defaults\n    let _destination = log.createDestination()\n    let _option = {}\n\n    switch (parameter.length) {\n      case 0:\n        // _destination = default\n        // _option = default\n        break\n      case 1:\n\n        switch (true) {\n          case parameter[0] instanceof LogDestination:\n          case parameter[0] instanceof Stream.Writable:\n            _destination = parameter[0]\n            // _option = default\n            break\n          case Is.string(parameter[0]):\n            _destination = log.createDestination(parameter[0])\n            // _option = default\n            break\n          default:\n            // _destination = default\n            _option = parameter[0]\n        }\n\n        break\n      default:\n\n        switch (true) {\n          case parameter[0] instanceof LogDestination:\n          case parameter[0] instanceof Stream.Writable:\n            _destination = parameter[0]\n            _option = parameter[1]\n            break\n          case Is.string(parameter[0]):\n            _destination = log.createDestination(parameter[0])\n            _option = parameter[1]\n            break\n          default:\n            _destination = parameter[0]\n            _option = parameter[1]\n        }\n\n    }\n\n    return [ _destination, _option ]\n\n  }\n  \n}\n\nexport { LogParameter }"],"file":"log-parameter.js"}