{"version":3,"sources":["../../source/library/log-destination.js"],"names":["FileSystem","Is","Path","Pino","Process","process","LogDestination","constructor","target","stdout","fd","string","ensureDirSync","dirname","_pinoDestination","_createPinoDestination","parameter","destination","pinoDestination","rotate","reopen"],"mappings":"AAAA,SAASA,UAAT,QAA2B,sCAA3B;AACA,OAAOC,EAAP,MAAe,SAAf;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,IAAP,MAAiB,MAAjB;;AAEA,MAAMC,OAAO,GAAGC,OAAhB;;AAEA,MAAMC,cAAN,CAAqB;;AAEnBC,EAAAA,WAAW,CAACC,MAAM,GAAGJ,OAAO,CAACK,MAAR,CAAeC,EAAzB,EAA6B;;AAEtC,QAAIT,EAAE,CAACU,MAAH,CAAUH,MAAV,CAAJ,EAAuB;AACrBR,MAAAA,UAAU,CAACY,aAAX,CAAyBV,IAAI,CAACW,OAAL,CAAaL,MAAb,CAAzB;AACD;;AAED,SAAKM,gBAAL,GAAwB,KAAKC,sBAAL,CAA4BP,MAA5B,CAAxB;;AAED;;AAEDO,EAAAA,sBAAsB,CAAC,GAAGC,SAAJ,EAAe;AACnC,WAAOb,IAAI,CAACc,WAAL,CAAiB,GAAGD,SAApB,CAAP;AACD;;AAED,MAAIE,eAAJ,GAAsB;AACpB,WAAO,KAAKJ,gBAAZ;AACD;;AAEDK,EAAAA,MAAM,GAAG;AACP,SAAKL,gBAAL,CAAsBM,MAAtB;AACD,GAtBkB;;;;AA0BrB,SAASd,cAAT","sourcesContent":["import { FileSystem } from '@virtualpatterns/mablung-file-system'\nimport Is from '@pwn/is'\nimport Path from 'path'\nimport Pino from 'pino'\n\nconst Process = process\n\nclass LogDestination {\n\n  constructor(target = Process.stdout.fd) {\n\n    if (Is.string(target)) {\n      FileSystem.ensureDirSync(Path.dirname(target))\n    }\n\n    this._pinoDestination = this._createPinoDestination(target)\n\n  }\n\n  _createPinoDestination(...parameter) {\n    return Pino.destination(...parameter)\n  }\n\n  get pinoDestination() {\n    return this._pinoDestination\n  }\n\n  rotate() {\n    this._pinoDestination.reopen()\n  }\n\n}\n\nexport { LogDestination }\n"],"file":"log-destination.js"}