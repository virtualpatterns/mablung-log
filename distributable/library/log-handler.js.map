{"version":3,"sources":["../../source/library/log-handler.js"],"names":["Luxon","Utilities","Is","DateTime","Process","process","EXCLUDE_PROPERTY_NAME","NANOSECONDS_PER_SECOND","LogHandler","constructor","log","_log","_tabIndex","construct","target","parameter","className","name","formatParameterFn","_formatConstructorParameter","bind","_formatParameter","parameterAsObject","parameterAsString","trace","repeat","start","hrtime","returnValue","Reflect","duration","_getDuration","Proxy","get","propertyName","receiver","functionOrAsyncFunction","includes","apply","self","_applyIn","error","_applyException","Promise","then","_returnValue","_applyOut","methodName","_getFormattedIn","null","message","stack","undefined","returnValueAsObject","returnValueAsString","_getFormattedOut","emptyString","formatReturnValueFn","_formatReturnValue","seconds","nanoseconds","parameterAsArray","keyPrefix","index","key","map","value","primitive","_formatPrimitive","date","_formatDateTime","regexp","toString","join","inspect","fromJSDate","toFormat"],"mappings":"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","sourcesContent":["import Luxon from 'luxon'\nimport Utilities from 'util'\n\nimport { Is } from './is.js'\n\nconst { DateTime } = Luxon\nconst Process = process\n\nconst EXCLUDE_PROPERTY_NAME = [ 'constructor', '_formatConstructorParameter', '_formatParameter', '_formatReturnValue' ]\nconst NANOSECONDS_PER_SECOND = 1000000000\n\nclass LogHandler {\n\n  constructor(log) {\n\n    this._log = log\n    this._tabIndex = 0\n\n  }\n\n  construct(target, parameter) {\n\n    let className = target.name\n\n    let formatParameterFn = target._formatConstructorParameter ? target._formatConstructorParameter.bind(target, ...parameter) : this._formatParameter.bind(this, parameter)\n    let [ parameterAsObject, parameterAsString ] = formatParameterFn()\n\n    this._log.trace(parameterAsObject, `> ${'  '.repeat(this._tabIndex)}new ${className}(${parameterAsString})`)\n\n    let start = Process.hrtime()\n    let returnValue = Reflect.construct(target, parameter)\n    let duration = this._getDuration(Process.hrtime(start))\n\n    this._log.trace({ ...parameterAsObject, duration }, `< ${'  '.repeat(this._tabIndex)}new ${className}(${parameterAsString})`)\n\n    return new Proxy(returnValue, this)\n\n  }\n\n  // getPrototypeOf(target) {\n\n  //   let className = target.name || target.constructor.name\n  //   this._log.trace(`= ${'  '.repeat(this._tabIndex)}LogHandler.getPrototypeOf(${className})`)\n\n  //   return Reflect.getPrototypeOf(target)\n\n  // }\n\n  get(target, propertyName, receiver) {\n\n    let className = target.name || target.constructor.name\n    // this._log.trace(`= LogHandler.get(${className}, ${this._formatPrimitive(propertyName)}, ...)`)\n\n    let returnValue = Reflect.get(target, propertyName, receiver)\n\n    // if (Is.primitive(returnValue) ||\n    //     Is.not.symbol(propertyName) &&\n    //     ( propertyName === FORMAT_CONSTRUCTOR_PARAMETER || \n    //       propertyName === FORMAT_PARAMETER || \n    //       propertyName === FORMAT_RETURN_VALUE)) {\n    //   return returnValue\n    // } else {\n    //   // this._log.trace(`LogHandler.get(target, ${this._formatPrimitive(propertyName)}, receiver)`)\n    //   return new Proxy(returnValue, this)\n    // }\n\n    if (Is.functionOrAsyncFunction(returnValue) && \n        !EXCLUDE_PROPERTY_NAME.includes(propertyName)) {\n      // this._log.trace('= return new Proxy(returnValue, this)')\n      return new Proxy(returnValue, this)\n    } else {\n      return returnValue\n    }\n\n  }\n\n  apply(target, self, parameter) {\n\n    this._applyIn(target, self, parameter)\n\n    let start = null\n    let returnValue = null\n    let duration = null\n\n    try {\n      start = Process.hrtime()\n      returnValue = Reflect.apply(target, self, parameter)\n      duration = this._getDuration(Process.hrtime(start))\n    } catch(error) {\n      this._applyException(target, self, parameter, error)\n      this._tabIndex--\n      throw error\n    }\n\n    if (returnValue instanceof Promise) {\n\n      returnValue = returnValue.then((_returnValue) => {\n\n        duration = this._getDuration(Process.hrtime(start))\n        this._applyOut(target, self, parameter, duration, _returnValue)\n\n        // return Is.primitive(_returnValue) || _returnValue instanceof Promise ? _returnValue : new Proxy(_returnValue, this)\n        // return _returnValue\n\n        if (Is.functionOrAsyncFunction(_returnValue)) {\n          return new Proxy(_returnValue, this)\n        } else {\n          return _returnValue\n        }\n\n      })\n\n    } else {\n      this._applyOut(target, self, parameter, duration, returnValue)\n    }\n\n    // return Is.primitive(returnValue) || returnValue instanceof Promise ? returnValue : new Proxy(returnValue, this)\n    // return returnValue\n\n    if (Is.functionOrAsyncFunction(returnValue)) {\n      return new Proxy(returnValue, this)\n    } else {\n      return returnValue\n    }\n\n  }\n\n  _applyIn(target, self, parameter) {\n    let [ className, methodName, parameterAsObject, parameterAsString ] = this._getFormattedIn(target, self, parameter)\n    this._log.trace(parameterAsObject, `> ${'  '.repeat(this._tabIndex)}${Is.null(className) ? '' : `${className}.`}${methodName}(${parameterAsString})`)\n    this._tabIndex++\n  }\n\n  _applyException(target, self, parameter, error) {\n    // when using nestedKey, pino does not seem to add the message and stack to the nested key\n    // this._log.error(error)\n    this._tabIndex--\n    this._log.error({ 'message': error.message, 'stack': error.stack, 'type': error.constructor.name }, error.message)\n  }\n\n  _getFormattedIn(target, self, parameter) {\n\n    let className = Is.undefined(self) ? null : self.name || self.constructor.name\n    let methodName = target.name\n\n    // let formatParameterFn = null\n    // formatParameterFn = Is.undefined(self) ? null : self[`_format${PascalCase(methodName)}Parameter`] || null\n    // formatParameterFn = Is.null(formatParameterFn) ? formatParameterFn : formatParameterFn.bind(self)\n\n    let formatParameterFn = target._formatParameter ? target._formatParameter.bind(target, ...parameter) : this._formatParameter.bind(this, parameter)\n    let [ parameterAsObject, parameterAsString ] = formatParameterFn()\n\n    return [ className, methodName, parameterAsObject, parameterAsString ]\n\n  }\n\n  _applyOut(target, self, parameter, duration, returnValue) {\n    let [ className, methodName, parameterAsObject, parameterAsString, returnValueAsObject, returnValueAsString ] = this._getFormattedOut(target, self, parameter, returnValue)\n    this._tabIndex--\n    this._log.trace({ ...parameterAsObject, ...returnValueAsObject, duration }, `< ${'  '.repeat(this._tabIndex)}${Is.null(className) ? '' : `${className}.`}${methodName}(${parameterAsString})${Is.undefined(returnValue) || Is.emptyString(returnValueAsString) ? '' : ` returned ${returnValueAsString}`}`)\n  }\n\n  _getFormattedOut(target, self, parameter, returnValue) {\n\n    let [ className, methodName, parameterAsObject, parameterAsString ] = this._getFormattedIn(target, self, parameter)\n\n    // let formatReturnValueFn = null\n    // formatReturnValueFn = Is.undefined(self) ? null : self[`_format${PascalCase(methodName)}ReturnValue`] || null\n    // formatReturnValueFn = Is.null(formatReturnValueFn) ? formatReturnValueFn : formatReturnValueFn.bind(self)\n\n    let formatReturnValueFn = target._formatReturnValue ? target._formatReturnValue.bind(target, returnValue) : this._formatReturnValue.bind(this, returnValue)\n    let [ returnValueAsObject, returnValueAsString ] = formatReturnValueFn()\n\n    return [ className, methodName, parameterAsObject, parameterAsString, returnValueAsObject, returnValueAsString ]\n\n  }\n\n  _getDuration([ seconds, nanoseconds ]) {\n    return seconds * NANOSECONDS_PER_SECOND + nanoseconds\n  }\n\n  _formatParameter(parameterAsArray, keyPrefix = 'p') {\n\n    let index = 0\n    let key = null\n\n    let parameterAsObject = {}\n    let parameterAsString = parameterAsArray\n      .map((value) => {\n\n        switch(true) {\n          case Is.null(value):\n            return 'null'\n          case Is.undefined(value):\n            return 'undefined'\n          case Is.primitive(value):\n            return this._formatPrimitive(value)\n          case Is.date(value):\n            return this._formatDateTime(value)\n          case Is.regexp(value):\n            return value.toString()\n          case Is.functionOrAsyncFunction(value):\n            return value.name\n          default:\n\n            key = `${keyPrefix}${index++}`\n            parameterAsObject[key] = value\n\n            return key\n\n        }\n\n      })\n      .join(', ')\n\n    return [ parameterAsObject, parameterAsString ]\n\n  }\n\n  _formatReturnValue(returnValue, keyPrefix = 'r') {\n    return this._formatParameter([ returnValue ], keyPrefix)\n  }\n\n  _formatPrimitive(value) {\n    return Utilities.inspect(value)\n  }\n\n  _formatDateTime(value) {\n    return `'${DateTime.fromJSDate(value).toFormat('yyyy.LL.dd-HH:mm:ss.SSSZZZ')}'`\n  }\n\n}\n\nexport { LogHandler }"],"file":"log-handler.js"}